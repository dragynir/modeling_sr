Проект по image SuperResolution томографических
изображений

Colab: https://colab.research.google.com/drive/1TgiU4qWldgaBZd6a2iN-noYGEpdqAWQj#scrollTo=JsK5WWwvv8gM

## Запуск на сервере

export PATH=/opt/slurm/bin:$PATH
srun -p gpuserv --pty bash

scancel job_id

###  Что хотим получить от Super Resolution (гипотеза):
1. Не надо сканировать образец в высоком разрешении для получения пористости образца.
2. Выявление регионов интереса для выбора области, где надо сделать томографию в высоком разрешении (https://journals.iucr.org/s/issues/2022/03/00/mo5255/mo5255.pdf)
3. Возможно удаление артефактов томографии (автоматическое)
4. Решение, которые работает лучше, чем интерполяция

###  Что можем восстановить исопользуя Super Resolution:
1. Детализация краев гранул
2. Поровое пространство
3. Увеличение резкости

## Как собирать данные для SuperResolution томографии:

##  MVP

### Что нужно в данных
1. Пары в низком и высоком разрешении
2. Маска сегментации порового пространства для высокого разрешения
3. Посчитанные физ. величины для изображений в высоком разрешении


### План действий по сбору данных:

1. Выбираем материал для сканирования: песчанник
2. Выбираем разререшение для upscale: 4x, 5x
3. Сканируем на одном одном и том же томографе.
3. Сканируем несколько образцов т. к. данных в одном образце слишком однородные.
4. Получаем пары в высоком и низком разрешениии.
5. Матчим изображения в высоком и низком разрешении.
6. Далаем датасет pd.DataFrame
7. Высчитываем маски сегментации (алгоритм или нейронка) - в крайнем случае разметка
8. Высчитываем физ. параметры, если есть лабораторные параметры - берем их.

## Подготовка данных
1. Разбиваем на train/val/test по сканированным образцам
2. Нормализация
3. Аугментации:
    1. HorizontalFlip
    2. VerticalFlip
    3. Translate x, y
    4. RandomResize and ResizeBack (0.8, 1.2) - так можно делтали убрать
       1. Использовать различные алгоритмы ресайза (смотри RealSRGAN)
    5. Небольшие блюр и зашумление (посмотреть как на реальных картинках работает)
    6. Доменные агументации (артефакты восстановления, может особый шум и т. д.)
    7. Моделирование множетсва деградаций данных (смотри RealSRGAN)
   